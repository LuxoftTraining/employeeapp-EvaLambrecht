{"version":3,"file":"./bundle.js","mappings":";;;;;;;;;;;;;;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACwC;AACxC;AACO;AACP,WAAW,2DAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA;AACA,IAAI,gEAAmB,EAAE,+DAA+D;AACxF;AACA;AACA;AACA;AACA,YAAY,2DAAc;AAC1B;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA;AACA,IAAI,kEAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,2DAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,2DAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kCAAkC;AACxC,MAAM,oCAAoC;AAC1C;AACA;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC,+BAA+B,kEAAkE;AACjG;AACA;AACA;AACA;AACO;AACP,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;;;ACrRmB;AACnB;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D,2BAA2B,qDAAW;AACtC;AACA,QAAQ,4DAAkB;AAC1B;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACO;AACP,IAAI,wDAAc;AAClB;AACA;AACA;AACO;AACP;AACA;AACA;AACA,uBAAuB,yDAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;;;;;;;UC5GA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACAwB;AACxB;AACA,uBAAuB,wDAAa;AACpC,iBAAiB,kDAAO;AACxB,0BAA0B,2DAAgB;AAC1C,0BAA0B,2DAAgB;AAC1C;AACA,oDAAK","sources":["webpack:///./employees/employees-json.js","webpack:///./employees/service.js","webpack:///./employees/ui.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./main.js"],"sourcesContent":["export const DATA = {\r\n\r\n    employees: [\r\n      {\r\n       id: 1,\r\n       name: \"Peter\",\r\n       surname: \"Peterson\",\r\n       department: \"IT\"\r\n      },\r\n      {\r\n        id: 2,\r\n        name: \"Simon\",\r\n        surname: \"Sayer\",\r\n        department: \"Sales\"\r\n       },\r\n       {\r\n        id: 3,\r\n        name: \"Hugo\",\r\n        surname: \"Port\",\r\n        department: \"Finance\"\r\n       },\r\n       {\r\n        id: 4,\r\n        name: \"Hugo\",\r\n        surname: \"Jusic\",\r\n        department: \"ABC\"\r\n       }\r\n    ]\r\n\r\n   }\r\n   ","\r\n/* var count = 2;\r\nwhile (count < 10) {\r\n    console.log(count%2);\r\n    count++;\r\n} */\r\n\r\n/*var arr = [\"a\", \"b\", \"c\", \"d\"];\r\nfunction printArr (arr) {\r\n    if (arr.length > 0) {\r\n        let x = 0;\r\n        do {console.log(arr[x]);\r\n            x++;\r\n        }\r\n        while (x < arr.length);\r\n    } else {\r\n        console.log(\"Empty array\");\r\n    }\r\n}\r\nprintArr(arr);\r\n*/\r\n\r\nimport { DATA } from './employees-json';\r\n\r\nexport function getEmployees() { \r\n    return DATA.employees \r\n};\r\n\r\n//LESSON 2:\r\n\r\n//3\r\nfunction findByName(name, surname) {\r\n    var result = [];\r\n    for (var employee of DATA.employees) {\r\n        if ((!name || employee.name === name) && (!surname || employee.surname === surname)) {\r\n            result.push(employee);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nconsole.log(findByName(\"Hugo\", \"\"));\r\n\r\n//4\r\nexport function addEmployee(name, surname) {\r\n    try {\r\n        if (!name || !surname || name == \"\" || surname == \"\") throw new Error(\"Name or Surname not set!\"); \r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n        return;\r\n    }\r\n    let id = 0;\r\n    for (let employee of DATA.employees) {\r\n        if (employee.id > id) {\r\n            id = employee.id;\r\n        }\r\n    }\r\n    id++;\r\n    DATA.employees.push({\"id\": id, \"name\": name, \"surname\": surname, \"department\": null});\r\n    return id;\r\n}\r\n\r\naddEmployee(\"Sepp\", \"Brunner\");\r\nconsole.log(DATA.employees);\r\n\r\n//5\r\nexport function removeEmployee(id) {\r\n    try {\r\n        if (!id || id == \"\") throw Error(\"ID not set!\"); \r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n        return;\r\n    }\r\n    let index = 0;\r\n    for (let employee of DATA.employees) {\r\n        if (employee.id === id) {\r\n          break;\r\n        }\r\n        index ++;\r\n    }\r\n    DATA.employees.splice(index, 1);\r\n}\r\n\r\n//6\r\nfunction showEmployee(employee) {\r\n    let keys = Object.keys(employee);\r\n    for (let key of keys) {\r\n        console.log(key, employee[key]);\r\n    }\r\n}\r\n\r\n//showEmployee(DATA.employees[0]);\r\n\r\n//7\r\n/*\r\nfunction showEmployees() {\r\n    for (let employee of DATA.employees) {\r\n        showEmployee(employee);\r\n    }\r\n}\r\n\r\n//showEmployees();\r\n*/\r\n\r\n\r\n//LESSON 3:\r\n\r\n//1 & 2:\r\nconst employeeMap = {};\r\nexport function findById(id) {\r\n    if (employeeMap[id]) {\r\n        console.log(employeeMap[id]);\r\n        return employeeMap[id];\r\n    }\r\n    for (let employee of DATA.employees) {\r\n        if (employee.id == id) {\r\n            employeeMap[employee.id] = employee;\r\n            console.log(employee);\r\n            return employee;\r\n        }\r\n    }\r\n   // console.log(\"Sorry, employee \" + id + \" not found.\");\r\n   throw Error(\"Sorry, employee with id = \" + id + \" not found!\");\r\n}\r\n\r\n//3\r\nfunction addPhone(id, phone) {\r\n    //did for .. of again for training, because it is new to me. I only knew for .. in\r\n    for (let employee of DATA.employees) {\r\n        if (employee.id == id) {\r\n            if (employee.hasOwnProperty(\"phones\")) {\r\n                employee.phones.push(phone);\r\n            } else {\r\n                employee[\"phones\"] = [phone];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\naddPhone(1, 32490953);\r\naddPhone(1, 59340598);\r\n\r\n//4\r\nfunction setDateOfBirth(id, date) {\r\n    for (let employee of DATA.employees) {\r\n        if (employee.id == id) {\r\n            employee.dateOfBirth = date;\r\n        }\r\n    }\r\n}\r\n\r\nsetDateOfBirth(1, new Date('May 20, 2003'));\r\n\r\n//5\r\nfunction getAge(id) {\r\n    const employee = findById(id);\r\n    if (employee.dateOfBirth) {\r\n        let ageAsDateFromEpoch =  new Date(Date.now() - employee.dateOfBirth.getTime());\r\n        let age = Math.abs(ageAsDateFromEpoch.getUTCFullYear() - 1970);\r\n        return age;\r\n    }\r\n    throw Error(\"Sorry, birthday for employee = \" + id + \" not set!\");\r\n}\r\n\r\n//console.log(getAge(1));\r\n//console.log(getAge(2));\r\n\r\n//6\r\nfunction formatDate(date) {\r\n    let day = date.getDate() < 10 ? \"0\"+date.getDate() : date.getDate();\r\n    let month = date.getMonth()+1 < 10? \"0\"+(date.getMonth()+1) : date.getMonth()+1;\r\n    let year = date.getFullYear();\r\n    return day + \".\" + month + \".\" + year;\r\n}\r\n\r\nconsole.log(formatDate(new Date(Date.now())));\r\n\r\n//7\r\nfunction getEmployeeInfo(id) {\r\n    let employee = null;\r\n    //Again, train for .. of \r\n    for (let empl of DATA.employees) {\r\n        if (empl.id == id) {\r\n            employee = empl;\r\n        }\r\n    }\r\n    let employeeStr = \"\";\r\n    if (employee) {\r\n        let birthday = employee.dateOfBirth ? formatDate(new Date(employee.dateOfBirth)) : \"-\";\r\n        let phones = employee.phones ? employee.phones : \"-\";\r\n        employeeStr = \"Name: \"+employee.name+\", Surname: \"+employee.surname+\", Birthday: \"+birthday;\r\n        employeeStr += \", Age: \"+getAge(employee.id)+\", Phone numbers: \"+phones;\r\n    }\r\n    return employeeStr;\r\n}\r\n\r\nconsole.log(getEmployeeInfo(1));\r\n\r\n//8\r\nfunction testEmployee() {\r\n    addPhone(2, 305968498);\r\n    addPhone(2, 385895037);\r\n    setDateOfBirth(2, new Date(1999,1,18));\r\n    console.log(getEmployeeInfo(2));\r\n   }\r\n   \r\n   testEmployee();\r\n\r\n//9\r\nfunction getEmployeeJSON(id) {\r\n    let employee = null;\r\n    for (let empl of DATA.employees) {\r\n        if (empl.id == id) {\r\n            employee = empl;\r\n        }\r\n    }\r\n    let employeeJson = {};\r\n    if (employee) {\r\n        employeeJson = JSON.stringify(employee);\r\n    }\r\n    return employeeJson;\r\n}\r\n\r\nconsole.log(getEmployeeJSON(1));\r\n\r\n//2.2\r\nfunction fillSelect(select, values, selectedValue) {\r\n    const emptyOption = document.createElement(\"option\");\r\n    select.appendChild(emptyOption);\r\n    for (let value of values) {\r\n        const newOption = document.createElement(\"option\");\r\n        newOption.text = value.text;\r\n        newOption.value = value.value;\r\n        if (newOption.value == selectedValue)  {\r\n            newOption.selected = true;\r\n        }\r\n        select.appendChild(newOption);\r\n    }      \r\n}\r\n\r\n/*\r\nfillSelect(document.getElementById(\"managerSelect\"), [\r\n    { text: \"John Johnson\", value: 133 },\r\n    { text: \"Peter Peterson\", value: 134 }], 134);\r\n*/\r\n\r\nfunction getEmployeesOptions() {\r\n    let employeeOptions = [];\r\n    for (let employee of DATA.employees) {\r\n        employeeOptions.push( {text: employee.name + \" \" + employee.surname, value: employee.id} );\r\n    }\r\n    return employeeOptions;\r\n}\r\n\r\nexport function setEmployeeManager(employeeId, managerId) {\r\n    for (let employee of DATA.employees) {\r\n        if (employee.id == employeeId) {\r\n            employee. managerRef = managerId;\r\n        }\r\n    }\r\n}\r\n\r\nexport function searchEmployees(name, surname, managerRef) {\r\n    let results = [];\r\n    for (let employee of DATA.employees) {\r\n        if ((!name || employee.name == name) && (!surname || employee.surname == surname) && (!managerRef || employee.managerRef == managerRef)) {\r\n            results.push(employee);\r\n        }\r\n    }\r\n    return results;\r\n}\r\n\r\nfunction assignSendOnEnter(paneId, buttonId) {\r\n    let allInput = document.querySelectorAll(\"#\"+paneId+\" input\");\r\n    for (let input of allInput) {\r\n        input.addEventListener(\"keyup\", function(event) {\r\n            event.preventDefault();\r\n            if (event.keyCode === 13) {\r\n                document.querySelector(\"#\"+paneId+\" button\").click();\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { \r\n    getEmployees, \r\n    removeEmployee, \r\n    addEmployee, \r\n    findById, \r\n    searchEmployees, \r\n    setEmployeeManager\r\n} from './service';\r\n\r\nconst PLACEHOLDER = \"employeesPlaceholder\";\r\n\r\nexport function runUI() {\r\n    assignSendOnEnter(\"searchPane\",\"searchEmployeesButton\");\r\n    assignSendOnEnter(\"addPane\", \"addEmployeeButton\");\r\n    document.getElementById(\"searchButton\").click();\r\n    showEmployees(DATA.employees);\r\n    fillSelect(document.getElementById(\"managerSelect\"), getEmployeesOptions());\r\n    fillSelect(document.getElementById(\"managerSearch\"), getEmployeesOptions());\r\n }\r\n \r\nfunction clearEmployeesPlaceholder() {\r\n    let emplPlaceholderElem = document.getElementById(PLACEHOLDER);\r\n    emplPlaceholderElem.innerHTML = \"\";\r\n}\r\n\r\nfunction showEmployees(employees) {\r\n    clearEmployeesPlaceholder();\r\n    let emplUl = document.createElement(\"ul\");\r\n    for (let employee of employees) {\r\n        var newLi = document.createElement(\"li\");\r\n        // let managerHtml = \"\";\r\n        newLi.innerHTML = employee.name + \" \" + employee.surname + \" \";\r\n        if (employee.managerRef) {\r\n            // let manager = findById(employee.managerRef);\r\n            // managerHtml = \"<b>Manager:</b> \" + manager.name +\" \"+manager.surname;\r\n            let managerSpan = document.createElement(\"span\");\r\n            let managerSelect = document.createElement(\"select\");\r\n            fillSelect(managerSelect, getEmployeesOptions(), employee.managerRef);\r\n            managerSelect.addEventListener('change', () => employee.managerRef = managerSelect.value);\r\n            managerSpan.innerHTML = \", <b>Manager:</b> \";\r\n            newLi.appendChild(managerSpan);\r\n            newLi.appendChild(managerSelect);\r\n        }\r\n        // newLi.innerHTML = employee.name + \" \" + employee.surname + \", \" + managerHtml + \" \" ;\r\n        const removeButton = document.createElement(\"button\");\r\n        removeButton.innerHTML = \"Remove\";\r\n        removeButton.addEventListener('click', () => removeEmployeeUI(employee.id));\r\n        newLi.appendChild(removeButton);\r\n        emplUl.appendChild(newLi);\r\n    }\r\n    document.getElementById(PLACEHOLDER).appendChild(emplUl);\r\n}\r\n\r\nexport function addEmployeeUI() {\r\n    const name = document.getElementById(\"nameInput\").value;\r\n    const surname = document.getElementById(\"surnameInput\").value;\r\n    let errorMsg = \"\";\r\n    if (!name || name == \"\") {\r\n        errorMsg = \"Please enter a name!\";\r\n        document.getElementById(\"nameInput\").style.backgroundColor = 'pink';\r\n    }\r\n    if (!surname || surname == \"\") {\r\n        errorMsg += \" Please enter a surename!\";\r\n        document.getElementById(\"surnameInput\").style.backgroundColor = 'pink';\r\n    } \r\n    if (errorMsg == \"\") {\r\n        document.getElementById(PLACEHOLDER).innerHTML = \"\"; //reset\r\n        const employeeId = addEmployee(name, surname);\r\n        const managerId = document.getElementById(\"managerSelect\").value;\r\n        setEmployeeManager(employeeId, managerId);\r\n        showEmployees(DATA.employees);\r\n        document.getElementById(\"nameInput\").value = \"\";\r\n        document.getElementById(\"surnameInput\").value = \"\";\r\n    } else {\r\n        document.getElementById(PLACEHOLDER).innerHTML = errorMsg;\r\n    }\r\n}\r\n\r\nexport function removeEmployeeUI(id) {\r\n    removeEmployee(id);\r\n    showEmployees(DATA.employees);\r\n}\r\n   \r\nexport function searchEmployeeUI() {\r\n    const name = document.getElementById(\"nameSearch\").value;\r\n    const surname = document.getElementById(\"surnameSearch\").value;\r\n    const managerRef = document.getElementById(\"managerSearch\").value;\r\n    const employees  = searchEmployees(name, surname, managerRef);\r\n    showEmployees(employees);\r\n}\r\n\r\n/**\r\n * Activates the selected tab\r\n * @param evt event invoking activation\r\n * @param id tab identifier\r\n */\r\nexport function openTab(evt, id) {\r\n    var i, tabcontent, tablinks;\r\n    tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n    for (i = 0; i < tabcontent.length; i++) {\r\n        tabcontent[i].style.display = \"none\";\r\n    }\r\n    tablinks = document.getElementsByClassName(\"tablinks\");\r\n    for (i = 0; i < tablinks.length; i++) {\r\n        tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n    }\r\n    document.getElementById(id).style.display = \"block\";\r\n    evt.currentTarget.className += \" active\";\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { \r\n    runUI,\r\n    addEmployeeUI,\r\n    openTab,\r\n    searchEmployeeUI,\r\n    removeEmployeeUI\r\n} from './employees/ui';\r\n\r\nwindow.addEmployeeUI = addEmployeeUI;\r\nwindow.openTab = openTab;\r\nwindow.searchEmployeeUI = searchEmployeeUI;\r\nwindow.removeEmployeeUI = removeEmployeeUI;\r\n\r\nrunUI();\r\n"],"names":[],"sourceRoot":""}